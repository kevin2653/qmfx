{"remainingRequest":"E:\\HtmlProjects\\qmfx\\node_modules\\babel-loader\\lib\\index.js!E:\\HtmlProjects\\qmfx\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\HtmlProjects\\qmfx\\src\\router\\index.js","dependencies":[{"path":"E:\\HtmlProjects\\qmfx\\src\\router\\index.js","mtime":1573723665527},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577370171724},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport vueRouter from 'vue-router';\nimport store from '@/store';\nVue.use(vueRouter);\n\nvar Home = function Home(resolve) {\n  return require(['../components/Index'], resolve);\n};\n\nvar LoginPage = function LoginPage(resolve) {\n  return require(['../components/LoginPage'], resolve);\n};\n\nvar NotFound = function NotFound(resolve) {\n  return require(['../components/NotFound'], resolve);\n};\n\nvar routes = [// 后台内容\n{\n  name: 'Home',\n  path: '/',\n  component: Home\n}, // 登陆\n{\n  name: 'login',\n  path: '/login',\n  component: LoginPage\n}, // 404\n{\n  name: '/notFound',\n  path: '*',\n  meta: {\n    requireAuth: true\n  },\n  component: NotFound\n}];\nvar router = new vueRouter({\n  routes: routes\n});\n\nif (localStorage.getItem('token') || localStorage.getItem('rid')) {\n  store.commit('moduleLogin/login');\n}\n\nrouter.beforeEach(function (to, from, next) {\n  if (!store.state.moduleLogin.isLogin && to.path !== '/login') {\n    next('/login');\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["E:\\HtmlProjects\\qmfx\\src\\router\\index.js"],"names":["Vue","vueRouter","store","use","Home","require","resolve","LoginPage","NotFound","routes","name","path","component","meta","requireAuth","router","localStorage","getItem","commit","beforeEach","to","from","next","state","moduleLogin","isLogin"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AAEAF,IAAIG,GAAJ,CAAQF,SAAR;;AAEA,IAAMG,OAAO,SAAPA,IAAO;AAAA,SAAWC,QAAQ,CAAC,qBAAD,CAAR,EAAiCC,OAAjC,CAAX;AAAA,CAAb;;AACA,IAAMC,YAAY,SAAZA,SAAY;AAAA,SAAWF,QAAQ,CAAC,yBAAD,CAAR,EAAqCC,OAArC,CAAX;AAAA,CAAlB;;AACA,IAAME,WAAW,SAAXA,QAAW;AAAA,SAAWH,QAAQ,CAAC,wBAAD,CAAR,EAAoCC,OAApC,CAAX;AAAA,CAAjB;;AAEA,IAAMG,SAAS,CACX;AACA;AACIC,QAAM,MADV;AAEIC,QAAM,GAFV;AAGIC,aAAWR;AAHf,CAFW,EAOX;AACA;AACIM,QAAM,OADV;AAEIC,QAAM,QAFV;AAGIC,aAAWL;AAHf,CARW,EAaX;AACA;AACIG,QAAM,WADV;AAEIC,QAAM,GAFV;AAGIE,QAAM;AACFC,iBAAa;AADX,GAHV;AAMIF,aAAWJ;AANf,CAdW,CAAf;AAuBA,IAAMO,SAAS,IAAId,SAAJ,CAAc;AAACQ;AAAD,CAAd,CAAf;;AAEA,IAAIO,aAAaC,OAAb,CAAqB,OAArB,KAAiCD,aAAaC,OAAb,CAAqB,KAArB,CAArC,EAAkE;AAC9Df,QAAMgB,MAAN,CAAa,mBAAb;AACH;;AAEDH,OAAOI,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAI,CAACpB,MAAMqB,KAAN,CAAYC,WAAZ,CAAwBC,OAAzB,IAAoCL,GAAGT,IAAH,KAAY,QAApD,EAA8D;AAC1DW,SAAK,QAAL;AACH,GAFD,MAEO;AACHA;AACH;AACJ,CAND;AAOA,eAAeP,MAAf","sourcesContent":["import Vue from 'vue';\nimport vueRouter from 'vue-router';\n\nimport store from '@/store';\n\nVue.use(vueRouter);\n\nconst Home = resolve => require(['../components/Index'], resolve);\nconst LoginPage = resolve => require(['../components/LoginPage'], resolve);\nconst NotFound = resolve => require(['../components/NotFound'], resolve);\n\nconst routes = [\n    // 后台内容\n    {\n        name: 'Home',\n        path: '/',\n        component: Home,\n    },\n    // 登陆\n    {\n        name: 'login',\n        path: '/login',\n        component: LoginPage,\n    },\n    // 404\n    {\n        name: '/notFound',\n        path: '*',\n        meta: {\n            requireAuth: true,\n        },\n        component: NotFound,\n    },\n]\nconst router = new vueRouter({routes});\n\nif (localStorage.getItem('token') || localStorage.getItem('rid')) {\n    store.commit('moduleLogin/login');\n}\n\nrouter.beforeEach((to, from, next) => {\n    if (!store.state.moduleLogin.isLogin && to.path !== '/login') {\n        next('/login');\n    } else {\n        next();\n    }\n})\nexport default router;"]}]}