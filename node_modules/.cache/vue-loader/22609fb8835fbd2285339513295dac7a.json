{"remainingRequest":"E:\\HtmlProjects\\qmfx\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HtmlProjects\\qmfx\\src\\components\\membershipPage\\membershipSetAgent.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HtmlProjects\\qmfx\\src\\components\\membershipPage\\membershipSetAgent.vue","mtime":1578039940791},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577370171724},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {\r\n     updateUserAPI,\r\n} from '@/api/userAPI.js'\r\nexport default {\r\n    name:'membershipInfo',\r\n    data(){\r\n        return{\r\n            dataForm:{\r\n                agentLevel:'',\r\n                id:''\r\n            },\r\n            agentLevelist:[{name:'普通会员',value:'0'},{name:'总代',value:'1'}]\r\n        };\r\n    },\r\n    components:{\r\n        // AddDepModal,\r\n    },\r\n    props: {\r\n        usersId: {\r\n            required: true,\r\n        },\r\n    },\r\n    methods:{\r\n       \r\n           // 表单提交\r\n        dataFormSubmit () {\r\n            console.log(\"agentLevel:\"+this.dataForm.agentLevel+\" id:\"+this.dataForm.id);\r\n            let that=this;\r\n                \r\n                const putdata={\r\n                    id: this.usersId,\r\n                    agentLevel: this.dataForm.agentLevel\r\n                }\r\n                updateUserAPI(putdata)\r\n                .then(res => {\r\n                    console.log(res);\r\n                    const sucresponse = res.data;\r\n                    if(sucresponse.code==200){\r\n                        this.$message({\r\n                        type: 'success',\r\n                        message: '修改成功',\r\n                        });\r\n                        this.$emit('close-form')\r\n                        this.$emit('finish-action')\r\n                    }else{\r\n                        this.errorMsg(sucresponse.message)\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    this.tableLoading = false;\r\n                }) \r\n            \r\n        \r\n        },\r\n    },\r\n    mounted(){\r\n        \r\n    }\r\n}\r\n",null]}