{"remainingRequest":"E:\\HtmlProjects\\qmfx\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HtmlProjects\\qmfx\\src\\components\\agentAwardSetUp\\agentAwardSetUpIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HtmlProjects\\qmfx\\src\\components\\agentAwardSetUp\\agentAwardSetUpIndex.vue","mtime":1578040578116},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577370171724},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577370171724},{"path":"E:\\HtmlProjects\\qmfx\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nconst SecondIndex = () => import('./agentLevelProductAwardSetUpInfo.vue');\r\nimport {\r\n     getAgentLevelProductAwardListAPI\r\n} from '@/api/agentAPI.js'\r\n\r\n\r\nexport default {\r\n    name:'prodList',\r\n    data(){\r\n        return{\r\n           \r\n            productId:'',\r\n            levelId:0,\r\n            money:'',\r\n            agentPrice:'',\r\n            form:{\r\n                current :1,\r\n                size :10\r\n            },\r\n           \r\n            shoptypelist:[{name:'普通会员',val:'0'},{name:'总代',val:'1'}],\r\n            shoptype:0,\r\n           \r\n            tableData:[],\r\n            totalCount:0,\r\n            tableLoading:false,\r\n          \r\n            secondDepShow:false,//产品1弹窗\r\n        };\r\n    },\r\n    components:{\r\n        // AddDepModal,\r\n        SecondIndex\r\n    },\r\n    methods:{\r\n        changeUpdateShow(id,money,price){\r\n            this.productId=id\r\n            this.money=money;\r\n            this.agentPrice = price;\r\n            console.log(id)\r\n            console.log(this.productId)\r\n            this.secondDepShow=true\r\n        },\r\n        /*\r\n         * 获取列表\r\n         */\r\n        getList(){\r\n            const params = {...this.form};\r\n          \r\n                params.agentLevelId=this.levelId\r\n                \r\n            this.tableLoading = true;\r\n             getAgentLevelProductAwardListAPI(params)\r\n                .then(res => {\r\n                    const data = res.data.data;\r\n                    this.totalCount = data.total;\r\n                    this.tableData = data.records;\r\n                    this.tableLoading = false;\r\n                 \r\n                })\r\n                .catch(err => {\r\n                    this.tableLoading = false;\r\n                })\r\n        },\r\n      \r\n        changesearchtype(id){\r\n            this.levelId=id\r\n            this.getList()\r\n        },\r\n        changetable(e){\r\n            console.log(e)\r\n            if(e.prop=='price'&&e.order=='ascending'){\r\n                this.form.sortType=1\r\n            }else if(e.prop=='price'&&e.order=='descending'){\r\n                this.form.sortType=2\r\n            }\r\n            console.log(this.form)\r\n            this.getList()\r\n        },\r\n        /**\r\n         * @msg: 翻页\r\n         * @param {type} \r\n         * @return: \r\n         */\r\n        handleSizeChange(cSize) {\r\n            this.form.size = cSize;\r\n            this.getOrderList();\r\n        },\r\n        \r\n        handleCurrentChange(currentPage) {\r\n            this.form.current = currentPage;\r\n            this.getOrderList();\r\n        },\r\n        \r\n       \r\n      \r\n    },\r\n    created(){\r\n        this.getList()\r\n    }\r\n}\r\n",{"version":3,"sources":["agentAwardSetUpIndex.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA","file":"agentAwardSetUpIndex.vue","sourceRoot":"src\\components\\agentAwardSetUp","sourcesContent":["/*\r\n * @Description: 全部\r\n * @Author: jian.weng\r\n * @Date: 2019-10-24 18:21:00\r\n */\r\n\r\n<template>\r\n    <div>\r\n       \r\n                <div class=\"filter\">\r\n            <el-form class=\"fl-l\" inline>\r\n               \r\n                <div style=\"margin-bottom:10px;margin-top:20px;\">\r\n                    <el-tag v-for=\"item in shoptypelist\" @click='changesearchtype(item.val)' :key=\"item.val\" :class=\"{'active':item.val==levelId}\">{{item.name}}</el-tag>\r\n                </div>\r\n            </el-form>\r\n        </div>  \r\n        <div class=\"table_body\">\r\n            <el-table\r\n            :data=\"tableData\"\r\n            border\r\n            id=\"exportTab\"\r\n            size=\"medium \"\r\n            style=\"width: 100%\">\r\n                <el-table-column\r\n                prop=\"pid\"\r\n                label=\"产品编号\"\r\n                min-width=\"100\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"title\"\r\n                label=\"商品\"\r\n                min-width=\"360\">\r\n                 <template slot-scope=\"scope\">\r\n                        <img class=\"prod-img\" :src=\"scope.row.cover\">\r\n                        <div class=\"prod-detail\" :span=\"6\">\r\n                            <div>\r\n                                {{scope.row.title}}\r\n                            </div>\r\n                            \r\n                        </div>\r\n                 </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"price\"\r\n                label=\"产品价格\"\r\n                min-width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"agentPrice\"\r\n                label=\"代理进货价格\"\r\n                min-width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                prop=\"awardMoney\"\r\n                label=\"代理等级产品佣金(元)\"\r\n                min-width=\"180\">\r\n                </el-table-column>\r\n               \r\n                <el-table-column\r\n                label=\"操作\"\r\n                min-width=\"300\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" type=\"primary\" @click=\"changeUpdateShow(scope.row.pid,scope.row.awardMoney,scope.row.agentPrice)\">修改</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"table-footer--APP\" slot=\"append\">\r\n                <el-pagination\r\n                :current-page=\"form.page\"\r\n                :page-sizes=\"[10, 20, 30, 40, 50, 60, 70, 80, 90]\"\r\n                :page-size=\"form.size\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"totalCount\"\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\">\r\n                </el-pagination>\r\n            </div>\r\n            <div>\r\n            <el-dialog\r\n            title=\"修改代理等级对应的产品佣金金额\"\r\n            :append-to-body=\"true\"\r\n            :visible.sync=\"secondDepShow\"\r\n            width=\"80%\">\r\n                <second-index\r\n                v-if=\"secondDepShow\"\r\n                :product-id='productId'\r\n                :level-id='levelId'\r\n                :award-money='money'\r\n                :agent-price='agentPrice'\r\n                @finish-action=\"getList\"\r\n                @close-form=\"secondDepShow = false\"\r\n                ></second-index>\r\n            </el-dialog>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nconst SecondIndex = () => import('./agentLevelProductAwardSetUpInfo.vue');\r\nimport {\r\n     getAgentLevelProductAwardListAPI\r\n} from '@/api/agentAPI.js'\r\n\r\n\r\nexport default {\r\n    name:'prodList',\r\n    data(){\r\n        return{\r\n           \r\n            productId:'',\r\n            levelId:0,\r\n            money:'',\r\n            agentPrice:'',\r\n            form:{\r\n                current :1,\r\n                size :10\r\n            },\r\n           \r\n            shoptypelist:[{name:'普通会员',val:'0'},{name:'总代',val:'1'}],\r\n            shoptype:0,\r\n           \r\n            tableData:[],\r\n            totalCount:0,\r\n            tableLoading:false,\r\n          \r\n            secondDepShow:false,//产品1弹窗\r\n        };\r\n    },\r\n    components:{\r\n        // AddDepModal,\r\n        SecondIndex\r\n    },\r\n    methods:{\r\n        changeUpdateShow(id,money,price){\r\n            this.productId=id\r\n            this.money=money;\r\n            this.agentPrice = price;\r\n            console.log(id)\r\n            console.log(this.productId)\r\n            this.secondDepShow=true\r\n        },\r\n        /*\r\n         * 获取列表\r\n         */\r\n        getList(){\r\n            const params = {...this.form};\r\n          \r\n                params.agentLevelId=this.levelId\r\n                \r\n            this.tableLoading = true;\r\n             getAgentLevelProductAwardListAPI(params)\r\n                .then(res => {\r\n                    const data = res.data.data;\r\n                    this.totalCount = data.total;\r\n                    this.tableData = data.records;\r\n                    this.tableLoading = false;\r\n                 \r\n                })\r\n                .catch(err => {\r\n                    this.tableLoading = false;\r\n                })\r\n        },\r\n      \r\n        changesearchtype(id){\r\n            this.levelId=id\r\n            this.getList()\r\n        },\r\n        changetable(e){\r\n            console.log(e)\r\n            if(e.prop=='price'&&e.order=='ascending'){\r\n                this.form.sortType=1\r\n            }else if(e.prop=='price'&&e.order=='descending'){\r\n                this.form.sortType=2\r\n            }\r\n            console.log(this.form)\r\n            this.getList()\r\n        },\r\n        /**\r\n         * @msg: 翻页\r\n         * @param {type} \r\n         * @return: \r\n         */\r\n        handleSizeChange(cSize) {\r\n            this.form.size = cSize;\r\n            this.getOrderList();\r\n        },\r\n        \r\n        handleCurrentChange(currentPage) {\r\n            this.form.current = currentPage;\r\n            this.getOrderList();\r\n        },\r\n        \r\n       \r\n      \r\n    },\r\n    created(){\r\n        this.getList()\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n    .header{\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    .header p{\r\n        margin:20px;\r\n    }\r\n    .header button{\r\n        margin: 10px\r\n    }\r\n    .table_body{\r\n        padding: 20px;\r\n    }\r\n    .addDep{\r\n        margin-top: 20px;\r\n    }\r\n    .filter {\r\n    padding-right: 130px;\r\n    position: relative;\r\n    margin-left: 20px;\r\n    .action-export {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n    }\r\n}\r\n.active{\r\n    background: #409EFF;\r\n    color: #fff;\r\n}\r\n.prod-img{\r\n  max-width: 64px;\r\n    min-width: 64px;\r\n    width: 64px;\r\n    height: 64px;\r\n    line-height: 64px;\r\n    border-radius: 4px;\r\n}\r\n</style>\r\n\r\n"]}]}