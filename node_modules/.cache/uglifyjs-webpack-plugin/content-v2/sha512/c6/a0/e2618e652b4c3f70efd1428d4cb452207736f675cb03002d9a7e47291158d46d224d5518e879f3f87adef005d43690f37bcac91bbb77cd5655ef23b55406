{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-33cfb4f3\"],{\"2ed6\":function(t,e,o){},\"761c\":function(t,e,o){\"use strict\";o.d(e,\"b\",function(){return r}),o.d(e,\"c\",function(){return i}),o.d(e,\"d\",function(){return s});o(\"cadf\"),o(\"551c\"),o(\"097d\");var n=o(\"5bf4\"),a=o(\"4088\"),r=(\"\".concat(a[\"b\"],\"/upload\"),function(t){return Object(n[\"a\"])({url:\"/admins/login\",method:\"post\",data:t,headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}})}),i=function(t){return Object(n[\"a\"])({url:\"/users/modifyPassword\",method:\"post\",data:t})},s=function(t,e){var o=new Date;o.setTime(t);var n=o.getFullYear(),a=o.getMonth()+1<10?\"0\"+(o.getMonth()+1):o.getMonth()+1,r=o.getDate()<10?\"0\"+o.getDate():o.getDate(),i=o.getHours()<10?\"0\"+o.getHours():o.getHours(),s=o.getMinutes()<10?\"0\"+o.getMinutes():o.getMinutes(),d=o.getSeconds()<10?\"0\"+o.getSeconds():o.getSeconds();return\"1\"==e?n+\"年\"+a+\"月\"+r+\"日\":\"2\"==e?n+\"-\"+a+\"-\"+r:\"3\"==e?a+\"-\"+r:\"4\"==e?a:\"5\"==e?r:\"6\"==e?n+\".\"+a+\".\"+r+\" \"+i+\":\"+s+\":\"+d:\"7\"==e?n+\"-\"+a+\"-\"+r+\" \"+i+\":\"+s+\":\"+d:\"8\"==e?n+\"-\"+a+\"-\"+r+\" \"+i+\":\"+s:\"9\"==e?a+\"-\"+r+\" \"+i+\":\"+s:void 0}},a27a:function(t,e,o){\"use strict\";o.d(e,\"c\",function(){return a}),o.d(e,\"f\",function(){return r}),o.d(e,\"a\",function(){return i}),o.d(e,\"h\",function(){return s}),o.d(e,\"e\",function(){return d}),o.d(e,\"b\",function(){return c}),o.d(e,\"g\",function(){return l}),o.d(e,\"d\",function(){return u});o(\"cadf\"),o(\"551c\"),o(\"097d\");var n=o(\"5bf4\"),a=function(t){return Object(n[\"a\"])({url:\"/products/page\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:t})},r=function(t){return Object(n[\"a\"])({url:\"/products/save\",method:\"post\",headers:{token:localStorage.getItem(\"token\")},data:JSON.stringify(t)})},i=function(t){return Object(n[\"a\"])({url:\"/products/delete\",method:\"DELETE\",headers:{token:localStorage.getItem(\"token\")},params:t})},s=function(t){return Object(n[\"a\"])({url:\"/products/putAway\",method:\"post\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\",token:localStorage.getItem(\"token\")},data:t})},d=function(t){return Object(n[\"a\"])({url:\"/productTypes/list\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:t})},c=function(t){return Object(n[\"a\"])({url:\"/products/info/\"+t,method:\"get\",headers:{token:localStorage.getItem(\"token\")}})},l=function(t){return Object(n[\"a\"])({url:\"/products/update\",method:\"put\",headers:{token:localStorage.getItem(\"token\")},data:JSON.stringify(t)})},u=function(t){return Object(n[\"a\"])({url:\"/freights/list\",method:\"get\",params:t})}},be5a:function(t,e,o){\"use strict\";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"div\",[o(\"div\",{staticClass:\"header\"},[o(\"p\",[t._v(\"产品列表\")]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleSecondDepShow}},[t._v(\"添加产品\")])],1),o(\"div\",{staticClass:\"filter\"},[o(\"el-form\",{staticClass:\"fl-l\",attrs:{inline:\"\"}},[o(\"el-form-item\",{attrs:{label:\"商品信息\"}},[o(\"el-col\",{attrs:{span:24}},[o(\"el-input\",{attrs:{placeholder:\"请输入商品名称和商品货号进行搜索\"},model:{value:t.form.search,callback:function(e){t.$set(t.form,\"search\",e)},expression:\"form.search\"}})],1)],1),o(\"el-form-item\",{attrs:{label:\"商品分类\"}},[o(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.form.typeId,callback:function(e){t.$set(t.form,\"typeId\",e)},expression:\"form.typeId\"}},t._l(t.prodtypelist,function(t){return o(\"el-option\",{key:t.tid,attrs:{label:t.title,value:t.tid}})}))],1),o(\"el-form-item\",[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.getProdList}},[t._v(\"查找\")])],1)],1)],1),o(\"div\",{staticClass:\"table_body\"},[o(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.tableData,border:\"\",size:\"medium \"}},[o(\"el-table-column\",{attrs:{prop:\"title\",label:\"商品\",\"min-width\":\"360\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[o(\"img\",{staticClass:\"prod-img\",attrs:{src:e.row.cover}}),o(\"div\",{staticClass:\"prod-detail\",attrs:{span:6}},[o(\"div\",[t._v(\"\\n                            \"+t._s(e.row.title)+\"\\n                        \")])])]}}])}),o(\"el-table-column\",{attrs:{prop:\"price\",label:\"价格\",\"min-width\":\"80\"}}),o(\"el-table-column\",{attrs:{prop:\"sales\",label:\"销量\",\"min-width\":\"100\"}}),o(\"el-table-column\",{attrs:{prop:\"totalStock\",label:\"库存\",\"min-width\":\"80\"}}),o(\"el-table-column\",{attrs:{prop:\"productNumber\",label:\"货号\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{prop:\"gmtCreate\",label:\"创建时间\",\"min-width\":\"180\"}}),o(\"el-table-column\",{attrs:{label:\"操作\",\"min-width\":\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[o(\"el-button\",{attrs:{size:\"mini\",type:\"primary\",plain:\"\"},on:{click:function(o){t.handleCheck(e.$index,e.row)}}},[t._v(\"修改\")]),o(\"el-button\",{attrs:{size:\"mini\",type:\"danger\",plain:\"\"},on:{click:function(o){t.handleDel(e.$index,e.row)}}},[t._v(\"删除\")])]}}])})],1),o(\"div\",{staticClass:\"table-footer--APP\",attrs:{slot:\"append\"},slot:\"append\"},[o(\"el-pagination\",{attrs:{\"current-page\":t.form.page,\"page-sizes\":[10,20,30,40,50,60,70,80,90],\"page-size\":t.form.limit,layout:\"total, sizes, prev, pager, next, jumper\",total:t.totalCount},on:{\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}})],1)],1),o(\"div\",[o(\"el-dialog\",{attrs:{title:this.isEdit?\"修改产品\":\"新增产品\",\"append-to-body\":!0,visible:t.modalAddDepShow,width:\"40%\"},on:{\"update:visible\":function(e){t.modalAddDepShow=e}}},[t.modalAddDepShow?o(\"add-dep-modal\",{attrs:{\"dep-id\":t.depId},on:{\"finish-action\":t.getProdList,\"close-form\":function(e){t.modalAddDepShow=!1}}}):t._e()],1),o(\"el-dialog\",{attrs:{title:\"产品详情\",\"append-to-body\":!0,visible:t.secondDepShow,width:\"90%\"},on:{\"update:visible\":function(e){t.secondDepShow=e}}},[t.secondDepShow?o(\"second-index\",{attrs:{\"dep-id\":t.depId},on:{\"finish-action\":t.getProdList,\"close-form\":function(e){t.secondDepShow=!1}}}):t._e()],1)],1)])},a=[],r=o(\"c93e\"),i=(o(\"cadf\"),o(\"551c\"),o(\"097d\"),o(\"a27a\")),s=(o(\"761c\"),function(){return Promise.all([o.e(\"chunk-2d0b5978\"),o.e(\"chunk-957e43e2\")]).then(o.bind(null,\"33290\"))}),d={name:\"prodList\",data:function(){return{form:{current:1,size:10,typeId:\"\",search:\"\"},prodtypelist:[],freightlist:[],value1:[,],shoptype:1,shopClassification:\"\",ommodityType:\"\",searchshow:!1,keyword:\"\",tableData:[],totalCount:0,tableLoading:!1,modalAddDepShow:!1,isEdit:!1,depId:0,secondDepShow:!1}},components:{SecondIndex:s},methods:{getProdList:function(){var t=this,e=Object(r[\"a\"])({},this.form);this.tableLoading=!0,Object(i[\"c\"])(e).then(function(e){console.log(\"getProductsDepListAPI res:\"),console.log(e.data.data);var o=e.data.data;if(null!=o){t.totalCount=o.total,t.tableData=o.records,t.tableLoading=!1;o.count}else t.tableData=[],t.tableLoading=!1,t.totalCount=0}).catch(function(e){t.errorMsg(e),t.tableLoading=!1})},changesearchtype:function(t){this.form.statusType=t,this.getProdList()},changetable:function(t){\"price\"==t.prop&&\"ascending\"==t.order?this.form.sortType=1:\"price\"==t.prop&&\"descending\"==t.order&&(this.form.sortType=2),this.getProdList()},handleSizeChange:function(t){this.form.size=t,this.getProdList()},geprodTypelist:function(){var t=this,e={current:1,size:100};Object(i[\"e\"])(e).then(function(e){var o=e.data.data;o.unshift({tid:\"\",title:\"全部\"}),t.prodtypelist=o}).catch(function(e){t.tableLoading=!1})},handleCurrentChange:function(t){this.form.current=t,this.getProdList()},handleAddDep:function(){this.depId=0,this.isEdit=!1,this.secondDepShow=!0},handleCheck:function(t,e){this.depId=e.pid,this.secondDepShow=!0,this.isEdit=!0},handleDel:function(t,e){var o=this,n=\"\"+e.pid,a={pids:n};Object(i[\"a\"])(a).then(function(t){var e=t.data,n=\"success\";200===e.code?o.getProdList():n=\"error\",o.$message({type:n,message:\"success\"===n?\"删除成功！\":e.message})})},handleputAway:function(t,e){var o=this,n=e.pid,a=0;0==e.status&&(a=-1);var r={pid:n,status:a};Object(i[\"h\"])(r).then(function(t){var e=t.data,n=\"success\";200===e.code?o.getProdList():n=\"error\",o.$message({type:n,message:\"success\"===n?\"操作成功！\":e.message})})},handleSecondDepShow:function(){this.secondDepShow=!0,this.depId=0,this.isEdit=!1},errorMsg:function(t){this.$message({message:t,type:\"error\",duration:1500})}},created:function(){this.geprodTypelist(),this.getProdList()}},c=d,l=(o(\"f97f\"),o(\"2877\")),u=Object(l[\"a\"])(c,n,a,!1,null,\"5de425fb\",null);u.options.__file=\"prodList.vue\";e[\"default\"]=u.exports},f97f:function(t,e,o){\"use strict\";var n=o(\"2ed6\"),a=o.n(n);a.a}}]);","extractedComments":[]}