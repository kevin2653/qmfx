{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-56c154c2\"],{\"26b0\":function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"div\",{staticClass:\"header\"},[n(\"p\",[t._v(\"订单物流列表\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.handleAdd()}}},[t._v(\"添加物流\")])],1),n(\"div\",{staticClass:\"table_body\"},[n(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.tableData,border:\"\",id:\"exportTab\",size:\"medium \"}},[n(\"el-table-column\",{attrs:{prop:\"logisticCode\",label:\"快递单号\",\"min-width\":\"150\"}}),n(\"el-table-column\",{attrs:{prop:\"expressCompany\",label:\"快递公司\",\"min-width\":\"80\"}}),n(\"el-table-column\",{attrs:{label:\"快递商品\",\"min-width\":\"150\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return t._l(e.row.orderProductList,function(e){return n(\"div\",{key:e.val},[n(\"img\",{staticClass:\"prod-img\",attrs:{src:e.cover}}),n(\"div\",{staticClass:\"prod-detail\",attrs:{span:6}},[n(\"div\",[t._v(\"\\n                            \"+t._s(e.title)+\"\\n                        \")]),n(\"div\",[t._v(\"\\n                            x\"+t._s(e.productNum)+\"\\n                        \")]),n(\"div\",[t._v(\"\\n                            ￥\"+t._s(e.productPrice)+\"\\n                        \")])])])})}}])}),n(\"el-table-column\",{attrs:{label:\"物流跟踪\",\"min-width\":\"500\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return t._l(e.row.logisticTraceList,function(e){return n(\"div\",{key:e.AcceptTime},[n(\"div\",{staticClass:\"prod-detail\",attrs:{span:6}},[n(\"div\",[n(\"font\",{staticStyle:{\"font-size\":\"10px\"}},[t._v(t._s(e.AcceptStation))])],1),n(\"div\",[n(\"font\",{staticStyle:{\"font-size\":\"10px\"}},[t._v(t._s(e.Remark))])],1),n(\"div\",[n(\"font\",{staticStyle:{\"font-size\":\"10px\"}},[t._v(t._s(e.AcceptTime))])],1)])])})}}])}),n(\"el-table-column\",{attrs:{prop:\"gmtCreate\",label:\"物流状态\",\"min-width\":\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\"\\n              \"+t._s(t.logisticStatelist[e.row.logisticState])+\"\\n             \")]}}])}),n(\"el-table-column\",{attrs:{prop:\"payTime\",label:\"收件人\",\"min-width\":\"200\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"div\",{staticClass:\"prod-detail\",attrs:{span:6}},[n(\"div\",[t._v(\"\\n                            \"+t._s(e.row.contactName)+\"\\n                        \")]),n(\"div\",[t._v(\"\\n                            \"+t._s(e.row.contactPhone)+\"\\n                        \")]),n(\"div\",[t._v(\"\\n                            \"+t._s(e.row.contactAddress)+\"\\n                        \")])])]}}])}),n(\"el-table-column\",{attrs:{label:\"操作\",\"min-width\":\"150\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(n){t.handleDel(e.row.id)}}},[t._v(\"\\n                        删除\\n                    \")]),n(\"el-button\",{attrs:{size:\"mini\",type:\"primary\"},on:{click:function(n){t.handleUpdate(e.row.id)}}},[t._v(\"修改\")])]}}])})],1),n(\"div\",{staticClass:\"table-footer--APP\",attrs:{slot:\"append\"},slot:\"append\"},[n(\"el-pagination\",{attrs:{\"current-page\":t.form.page,\"page-sizes\":[10,20,30,40,50,60,70,80,90],\"page-size\":t.form.size,layout:\"total, sizes, prev, pager, next, jumper\",total:t.totalCount},on:{\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}})],1),n(\"div\",[n(\"el-dialog\",{attrs:{title:this.isEdit?\"修改物流\":\"新增物流\",\"append-to-body\":!0,visible:t.secondDepShow,width:\"80%\"},on:{\"update:visible\":function(e){t.secondDepShow=e}}},[t.secondDepShow?n(\"second-index\",{attrs:{\"update-id\":t.updateId,\"order-id\":t.orderId,\"contact-name\":t.contactName,\"contact-phone\":t.contactPhone,\"contact-address\":t.contactAddress},on:{\"finish-action\":t.getList,\"close-form\":function(e){t.secondDepShow=!1}}}):t._e()],1)],1)],1)])},a=[],i=n(\"71d8\"),s=function(){return n.e(\"chunk-9eed82ca\").then(n.bind(null,\"f764\"))},r={name:\"prodList\",data:function(){return{logisticStatelist:{0:\"运输中\",1:\"已签收\"},form:{current:1,size:10},tableData:[],totalCount:0,tableLoading:!1,isEdit:!1,updateId:0,secondDepShow:!1,contactName:\"\",contactPhone:\"\",contactAddress:\"\"}},props:{orderId:{required:!0}},components:{SecondIndex:s},methods:{getList:function(){var t=this,e={orderId:this.orderId};this.tableLoading=!0,Object(i[\"c\"])(e).then(function(e){console.log(e);for(var n=e.data.data,o=0;o<n.length;o++)if(null!=n[o].logisticTrace&&\"\"!=n[o].logisticTrace){var a=JSON.parse(n[o].logisticTrace);n[o].logisticTraceList=a.Traces}t.totalCount=n.total,t.tableData=n,t.tableLoading=!1,console.log(t.tableData)}).catch(function(e){t.tableLoading=!1})},handleDel:function(t){var e=this;console.log(t),this.$confirm(\"确定要删除该数据么？（此操作不可逆）\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){var n={pids:t};Object(i[\"a\"])(n).then(function(t){200===t.data.code?(e.$message({type:\"success\",message:\"删除成功\"}),e.getList()):e.$message.error(t.data.msg)}).catch(function(t){})})},handleSizeChange:function(t){this.form.size=t,this.getList()},handleCurrentChange:function(t){this.form.current=t,this.getList()},handleAdd:function(){this.updateId=0,this.isEdit=!1,this.secondDepShow=!0},handleUpdate:function(t){this.updateId=t,this.secondDepShow=!0,this.isEdit=!0}},created:function(){console.log(\"created: \"+this.orderId),this.getList()}},c=r,d=(n(\"a4e7\"),n(\"2877\")),l=Object(d[\"a\"])(c,o,a,!1,null,\"5fd5f392\",null);l.options.__file=\"orderLogisticIndex.vue\";e[\"default\"]=l.exports},\"71d8\":function(t,e,n){\"use strict\";n.d(e,\"c\",function(){return a}),n.d(e,\"b\",function(){return i}),n.d(e,\"a\",function(){return s}),n.d(e,\"d\",function(){return r}),n.d(e,\"e\",function(){return c});var o=n(\"5bf4\"),a=function(t){return Object(o[\"a\"])({url:\"/orderLogistic/list\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:t})},i=function(t){return Object(o[\"a\"])({url:\"/orderLogistic/info/\"+t,method:\"get\",headers:{token:localStorage.getItem(\"token\")}})},s=function(t){return Object(o[\"a\"])({url:\"/orderLogistic/delete\",method:\"delete\",headers:{token:localStorage.getItem(\"token\")},params:t})},r=function(t){return Object(o[\"a\"])({url:\"/orderLogistic/save\",method:\"post\",headers:{token:localStorage.getItem(\"token\")},data:JSON.stringify(t)})},c=function(t){return Object(o[\"a\"])({url:\"/orderLogistic/update\",method:\"put\",headers:{token:localStorage.getItem(\"token\")},data:JSON.stringify(t)})}},\"7dfc\":function(t,e,n){},a4e7:function(t,e,n){\"use strict\";var o=n(\"7dfc\"),a=n.n(o);a.a}}]);","extractedComments":[]}