{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-5e2263fc\"],{\"2df8\":function(e,t,n){\"use strict\";var o=n(\"d065\"),r=n.n(o);r.a},\"5f2b\":function(e,t,n){\"use strict\";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"div\",{staticClass:\"header\"},[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.exportExcel}},[e._v(\"导出\")])],1),n(\"div\",{staticClass:\"filter\"},[n(\"el-form\",{staticClass:\"fl-l\",attrs:{inline:\"\"}},[n(\"el-form-item\",{attrs:{label:\"订单信息:\"}},[n(\"el-col\",{attrs:{span:24}},[n(\"el-input\",{attrs:{placeholder:\"请输入订单号\"},model:{value:e.form.orderNumber,callback:function(t){e.$set(e.form,\"orderNumber\",t)},expression:\"form.orderNumber\"}})],1)],1),n(\"el-form-item\",[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.getOrderList}},[e._v(\"查找\")])],1),n(\"div\",{staticStyle:{\"margin-bottom\":\"10px\"}},e._l(e.shoptypelist,function(t){return n(\"el-tag\",{key:t.val,class:{active:t.val==e.form.orderState},on:{click:function(n){e.changesearchtype(t.val)}}},[e._v(e._s(t.name))])}))],1)],1),n(\"div\",{staticClass:\"table_body\"},[n(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.tableData,border:\"\",id:\"exportTab\",size:\"medium \"}},[n(\"el-table-column\",{attrs:{label:\"订单编号\",\"min-width\":\"160\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-button\",{attrs:{size:\"mini\",type:\"default\"},on:{click:function(n){e.changeOrderShow(t.row.id)}}},[e._v(e._s(t.row.orderNumber))])]}}])}),n(\"el-table-column\",{attrs:{prop:\"nickname\",label:\"下单人\",\"min-width\":\"100\"}}),n(\"el-table-column\",{attrs:{label:\"商品\",\"min-width\":\"180\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return e._l(t.row.orderProductList,function(t){return n(\"div\",{key:t.val},[n(\"img\",{staticClass:\"prod-img\",attrs:{src:t.cover}}),n(\"div\",{staticClass:\"prod-detail\",attrs:{span:6}},[n(\"div\",[e._v(\"\\n                            \"+e._s(t.title)+\"\\n                        \")]),n(\"div\",[e._v(\"\\n                            x\"+e._s(t.productNum)+\"\\n                        \")]),n(\"div\",[e._v(\"\\n                            ￥\"+e._s(t.productPrice)+\"\\n                        \")])])])})}}])}),n(\"el-table-column\",{attrs:{prop:\"totalPrice\",label:\"总金额\",\"min-width\":\"80\"}}),n(\"el-table-column\",{attrs:{prop:\"discount\",label:\"优惠\",\"min-width\":\"50\"}}),n(\"el-table-column\",{attrs:{prop:\"freight\",label:\"运费\",\"min-width\":\"80\"}}),n(\"el-table-column\",{attrs:{prop:\"payMoney\",label:\"支付金额\",\"min-width\":\"80\"}}),n(\"el-table-column\",{attrs:{prop:\"gmtCreate\",label:\"订单状态\",\"min-width\":\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\"\\n              \"+e._s(e.orderstatelist[t.row.orderState])+\"\\n             \")]}}])}),n(\"el-table-column\",{attrs:{prop:\"gmtCreate\",label:\"下单时间\",\"min-width\":\"160\"}}),n(\"el-table-column\",{attrs:{prop:\"payTime\",label:\"支付时间\",\"min-width\":\"160\"}}),n(\"el-table-column\",{attrs:{prop:\"payTime\",label:\"收件人\",\"min-width\":\"250\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"div\",{staticClass:\"prod-detail\",attrs:{span:6}},[n(\"div\",[e._v(\"\\n                            \"+e._s(t.row.contactName)+\"\\n                        \")]),n(\"div\",[e._v(\"\\n                            \"+e._s(t.row.contactPhone)+\"\\n                        \")]),n(\"div\",[e._v(\"\\n                            \"+e._s(t.row.contactAddress)+\"\\n                        \")])])]}}])}),n(\"el-table-column\",{attrs:{label:\"操作\",\"min-width\":\"150\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[2==t.row.orderState?n(\"el-button\",{attrs:{size:\"mini\",type:\"primary\"},on:{click:function(n){e.changeOrderDeliverGoods(t.row.id)}}},[e._v(\"发货\")]):e._e()]}}])})],1),n(\"div\",{staticClass:\"table-footer--APP\",attrs:{slot:\"append\"},slot:\"append\"},[n(\"el-pagination\",{attrs:{\"current-page\":e.form.page,\"page-sizes\":[10,20,30,40,50,60,70,80,90],\"page-size\":e.form.size,layout:\"total, sizes, prev, pager, next, jumper\",total:e.totalCount},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1),n(\"div\",[n(\"el-dialog\",{attrs:{title:\"订单详情\",\"append-to-body\":!0,visible:e.secondDepShow,width:\"80%\"},on:{\"update:visible\":function(t){e.secondDepShow=t}}},[e.secondDepShow?n(\"second-index\",{attrs:{\"order-id\":e.orderId},on:{\"finish-action\":e.getOrderList,\"close-form\":function(t){e.secondDepShow=!1}}}):e._e()],1)],1)],1)])},r=[],a=n(\"c93e\"),s=(n(\"cadf\"),n(\"551c\"),n(\"097d\"),n(\"f72e\")),i=(n(\"761c\"),n(\"21a6\")),l=n.n(i),c=n(\"1146\"),d=n.n(c),u=function(){return n.e(\"chunk-7e45b17d\").then(n.bind(null,\"8225\"))},p={name:\"prodList\",data:function(){return{payfun:{1:\"打款凭证\",2:\"线上支付\"},orderstatelist:{\"-1\":\"已删除\",0:\"已关闭\",1:\"待付款\",2:\"待发货\",3:\"待收货\",4:\"已完成\",5:\"退款中\",6:\"退款完成\"},orderId:\"\",form:{current:1,size:10,orderState:\"\",orderNumber:\"\"},freightlist:[],value1:[,],shoptypelist:[{name:\"全部\",val:\"\",nownum:\"\"},{name:\"待付款\",val:\"1\",nownum:\"\"},{name:\"待发货\",val:\"2\",nownum:\"\"},{name:\"待收货\",val:\"3\",nownum:\"\"},{name:\"已完成\",val:\"4\",nownum:\"\"},{name:\"退款中\",val:\"5\",nownum:\"\"},{name:\"退款完成\",val:\"6\",nownum:\"\"}],shoptype:1,shopClassification:\"\",ommodityType:\"\",searchshow:!1,keyword:\"\",tableData:[],totalCount:0,tableLoading:!1,modalAddDepShow:!1,isEdit:!1,depId:0,secondDepShow:!1}},components:{SecondIndex:u},methods:{changeOrderShow:function(e){this.orderId=e,console.log(e),console.log(this.orderId),this.secondDepShow=!0},getOrderList:function(){var e=this,t=Object(a[\"a\"])({},this.form);this.tableLoading=!0,Object(s[\"b\"])(t).then(function(t){var n=t.data.data;e.totalCount=n.total,e.tableData=n.records,e.tableLoading=!1;var o=n.count;e.shoptypelist[0].nownum=o.putawayNum,e.shoptypelist[1].nownum=o.sellOutNum,e.shoptypelist[2].nownum=o.soldOutNum,e.shoptypelist[3].nownum=o.warningNum}).catch(function(t){e.tableLoading=!1})},delorderdetail:function(e){var t=this;console.log(e),this.$confirm(\"确定要删除该订单么？（此操作不可逆）\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){Object(s[\"a\"])(e).then(function(e){200===e.data.code?(t.$message({type:\"success\",message:\"该订单已经删除\"}),t.getOrderList()):t.$message.error(e.data.msg)}).catch(function(e){})})},changeOrderDeliverGoods:function(e){var t=this;Object(s[\"d\"])(e).then(function(e){var n=e.data,o=\"success\";200===n.code?t.getOrderList():o=\"error\",t.$message({type:o,message:\"success\"===o?\"操作成功！\":n.message})})},exportExcel:function(){var e={raw:!0},t=d.a.utils.table_to_book(document.querySelector(\"#exportTab\"),e),n=d.a.write(t,{bookType:\"xlsx\",bookSST:!0,type:\"array\"});try{l.a.saveAs(new Blob([n],{type:\"application/octet-stream\"}),\"订单信息表.xlsx\")}catch(e){\"undefined\"!==typeof console&&console.log(e,n)}return n},changesearchtype:function(e){this.form.orderState=e,this.getOrderList()},changetable:function(e){console.log(e),\"price\"==e.prop&&\"ascending\"==e.order?this.form.sortType=1:\"price\"==e.prop&&\"descending\"==e.order&&(this.form.sortType=2),console.log(this.form),this.getOrderList()},handleSizeChange:function(e){this.form.size=e,this.getOrderList()},handleCurrentChange:function(e){this.form.current=e,this.getOrderList()},handleAddDep:function(){this.depId=0,this.isEdit=!1,this.secondDepShow=!0},handleCheck:function(e,t){this.depId=t.pid,this.secondDepShow=!0,this.isEdit=!0},handleDel:function(e,t){var n=this,o=t.id;deleteFirstDepAPI(o).then(function(e){var t=e.data,o=\"success\";1e3===t.code?n.getOrderList():o=\"error\",n.$message({type:o,message:\"success\"===o?\"删除成功！\":t.msg})})},changeshow:function(){console.log(123),this.searchshow=!this.searchshow},handleSecondDepShow:function(){this.secondDepShow=!0,this.depId=0,this.isEdit=!1}},created:function(){this.getOrderList()}},h=p,m=(n(\"2df8\"),n(\"2877\")),f=Object(m[\"a\"])(h,o,r,!1,null,\"501b7410\",null);f.options.__file=\"allOrderList.vue\";t[\"default\"]=f.exports},\"761c\":function(e,t,n){\"use strict\";n.d(t,\"b\",function(){return a}),n.d(t,\"c\",function(){return s}),n.d(t,\"d\",function(){return i});n(\"cadf\"),n(\"551c\"),n(\"097d\");var o=n(\"5bf4\"),r=n(\"4088\"),a=(\"\".concat(r[\"b\"],\"/upload\"),function(e){return Object(o[\"a\"])({url:\"/admins/login\",method:\"post\",data:e,headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}})}),s=function(e){return Object(o[\"a\"])({url:\"/users/modifyPassword\",method:\"post\",data:e})},i=function(e,t){var n=new Date;n.setTime(e);var o=n.getFullYear(),r=n.getMonth()+1<10?\"0\"+(n.getMonth()+1):n.getMonth()+1,a=n.getDate()<10?\"0\"+n.getDate():n.getDate(),s=n.getHours()<10?\"0\"+n.getHours():n.getHours(),i=n.getMinutes()<10?\"0\"+n.getMinutes():n.getMinutes(),l=n.getSeconds()<10?\"0\"+n.getSeconds():n.getSeconds();return\"1\"==t?o+\"年\"+r+\"月\"+a+\"日\":\"2\"==t?o+\"-\"+r+\"-\"+a:\"3\"==t?r+\"-\"+a:\"4\"==t?r:\"5\"==t?a:\"6\"==t?o+\".\"+r+\".\"+a+\" \"+s+\":\"+i+\":\"+l:\"7\"==t?o+\"-\"+r+\"-\"+a+\" \"+s+\":\"+i+\":\"+l:\"8\"==t?o+\"-\"+r+\"-\"+a+\" \"+s+\":\"+i:\"9\"==t?r+\"-\"+a+\" \"+s+\":\"+i:void 0}},d065:function(e,t,n){},f72e:function(e,t,n){\"use strict\";n.d(t,\"b\",function(){return r}),n.d(t,\"c\",function(){return a}),n.d(t,\"d\",function(){return s}),n.d(t,\"a\",function(){return i});var o=n(\"5bf4\"),r=function(e){return Object(o[\"a\"])({url:\"/orders/page\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:e})},a=function(e){return Object(o[\"a\"])({url:\"/orders/info/\"+e,method:\"get\",headers:{token:localStorage.getItem(\"token\")}})},s=function(e){return Object(o[\"a\"])({url:\"/orders/shipments/\"+e,method:\"put\",headers:{token:localStorage.getItem(\"token\")}})},i=function(e){return Object(o[\"a\"])({url:\"/orders/delete/\"+e,method:\"delete\",headers:{token:localStorage.getItem(\"token\")}})}}}]);","extractedComments":[]}