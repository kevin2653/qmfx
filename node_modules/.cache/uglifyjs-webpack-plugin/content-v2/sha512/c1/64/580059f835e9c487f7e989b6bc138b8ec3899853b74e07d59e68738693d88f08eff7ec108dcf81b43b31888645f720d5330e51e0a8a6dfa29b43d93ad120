{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-7f6fe8b0\"],{\"0a0a\":function(t,e,n){},\"326a\":function(t,e,n){\"use strict\";var o=n(\"0a0a\"),a=n.n(o);a.a},\"761c\":function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return r}),n.d(e,\"c\",function(){return i}),n.d(e,\"d\",function(){return s});n(\"cadf\"),n(\"551c\"),n(\"097d\");var o=n(\"5bf4\"),a=n(\"4088\"),r=(\"\".concat(a[\"b\"],\"/upload\"),function(t){return Object(o[\"a\"])({url:\"/admins/login\",method:\"post\",data:t,headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}})}),i=function(t){return Object(o[\"a\"])({url:\"/users/modifyPassword\",method:\"post\",data:t})},s=function(t,e){var n=new Date;n.setTime(t);var o=n.getFullYear(),a=n.getMonth()+1<10?\"0\"+(n.getMonth()+1):n.getMonth()+1,r=n.getDate()<10?\"0\"+n.getDate():n.getDate(),i=n.getHours()<10?\"0\"+n.getHours():n.getHours(),s=n.getMinutes()<10?\"0\"+n.getMinutes():n.getMinutes(),d=n.getSeconds()<10?\"0\"+n.getSeconds():n.getSeconds();return\"1\"==e?o+\"年\"+a+\"月\"+r+\"日\":\"2\"==e?o+\"-\"+a+\"-\"+r:\"3\"==e?a+\"-\"+r:\"4\"==e?a:\"5\"==e?r:\"6\"==e?o+\".\"+a+\".\"+r+\" \"+i+\":\"+s+\":\"+d:\"7\"==e?o+\"-\"+a+\"-\"+r+\" \"+i+\":\"+s+\":\"+d:\"8\"==e?o+\"-\"+a+\"-\"+r+\" \"+i+\":\"+s:\"9\"==e?a+\"-\"+r+\" \"+i+\":\"+s:void 0}},a27a:function(t,e,n){\"use strict\";n.d(e,\"c\",function(){return a}),n.d(e,\"f\",function(){return r}),n.d(e,\"a\",function(){return i}),n.d(e,\"h\",function(){return s}),n.d(e,\"e\",function(){return d}),n.d(e,\"b\",function(){return c}),n.d(e,\"g\",function(){return l}),n.d(e,\"d\",function(){return u});n(\"cadf\"),n(\"551c\"),n(\"097d\");var o=n(\"5bf4\"),a=function(t){return Object(o[\"a\"])({url:\"/products/page\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:t})},r=function(t){return Object(o[\"a\"])({url:\"/products/save\",method:\"post\",headers:{token:localStorage.getItem(\"token\")},data:JSON.stringify(t)})},i=function(t){return Object(o[\"a\"])({url:\"/products/delete\",method:\"DELETE\",headers:{token:localStorage.getItem(\"token\")},params:t})},s=function(t){return Object(o[\"a\"])({url:\"/products/putAway\",method:\"post\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\",token:localStorage.getItem(\"token\")},data:t})},d=function(t){return Object(o[\"a\"])({url:\"/productTypes/list\",method:\"get\",headers:{token:localStorage.getItem(\"token\")},params:t})},c=function(t){return Object(o[\"a\"])({url:\"/products/info/\"+t,method:\"get\",headers:{token:localStorage.getItem(\"token\")}})},l=function(t){return Object(o[\"a\"])({url:\"/products/update\",method:\"put\",headers:{token:localStorage.getItem(\"token\")},data:JSON.stringify(t)})},u=function(t){return Object(o[\"a\"])({url:\"/freights/list\",method:\"get\",params:t})}},be5a:function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"div\",{staticClass:\"header\"},[n(\"p\",[t._v(\"产品列表\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleSecondDepShow}},[t._v(\"添加产品\")])],1),n(\"div\",{staticClass:\"filter\"},[n(\"el-form\",{staticClass:\"fl-l\",attrs:{inline:\"\"}},[n(\"el-form-item\",{attrs:{label:\"商品信息\"}},[n(\"el-col\",{attrs:{span:24}},[n(\"el-input\",{attrs:{placeholder:\"请输入商品名称和商品货号进行搜索\"},model:{value:t.form.search,callback:function(e){t.$set(t.form,\"search\",e)},expression:\"form.search\"}})],1)],1),n(\"el-form-item\",{attrs:{label:\"商品分类\"}},[n(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.form.typeId,callback:function(e){t.$set(t.form,\"typeId\",e)},expression:\"form.typeId\"}},t._l(t.prodtypelist,function(t){return n(\"el-option\",{key:t.tid,attrs:{label:t.title,value:t.tid}})}))],1),n(\"el-form-item\",[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.getProdList}},[t._v(\"查找\")])],1)],1)],1),n(\"div\",{staticClass:\"table_body\"},[n(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.tableData,border:\"\",size:\"medium \"}},[n(\"el-table-column\",{attrs:{prop:\"title\",label:\"商品\",\"min-width\":\"360\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"img\",{staticClass:\"prod-img\",attrs:{src:e.row.cover}}),n(\"div\",{staticClass:\"prod-detail\",attrs:{span:6}},[n(\"div\",[t._v(\"\\n                            \"+t._s(e.row.title)+\"\\n                        \")])])]}}])}),n(\"el-table-column\",{attrs:{prop:\"price\",label:\"价格\",\"min-width\":\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"sales\",label:\"销量\",\"min-width\":\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"gmtCreate\",label:\"创建时间\",\"min-width\":\"180\"}}),n(\"el-table-column\",{attrs:{label:\"操作\",\"min-width\":\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"el-button\",{attrs:{size:\"mini\",type:\"primary\",plain:\"\"},on:{click:function(n){t.handleCheck(e.$index,e.row)}}},[t._v(\"修改\")]),n(\"el-button\",{attrs:{size:\"mini\",type:\"danger\",plain:\"\"},on:{click:function(n){t.handleDel(e.$index,e.row)}}},[t._v(\"删除\")])]}}])})],1),n(\"div\",{staticClass:\"table-footer--APP\",attrs:{slot:\"append\"},slot:\"append\"},[n(\"el-pagination\",{attrs:{\"current-page\":t.form.page,\"page-sizes\":[10,20,30,40,50,60,70,80,90],\"page-size\":t.form.limit,layout:\"total, sizes, prev, pager, next, jumper\",total:t.totalCount},on:{\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}})],1)],1),n(\"div\",[n(\"el-dialog\",{attrs:{title:this.isEdit?\"修改产品\":\"新增产品\",\"append-to-body\":!0,visible:t.modalAddDepShow,width:\"40%\"},on:{\"update:visible\":function(e){t.modalAddDepShow=e}}},[t.modalAddDepShow?n(\"add-dep-modal\",{attrs:{\"dep-id\":t.depId},on:{\"finish-action\":t.getProdList,\"close-form\":function(e){t.modalAddDepShow=!1}}}):t._e()],1),n(\"el-dialog\",{attrs:{title:\"产品详情\",\"append-to-body\":!0,visible:t.secondDepShow,width:\"90%\"},on:{\"update:visible\":function(e){t.secondDepShow=e}}},[t.secondDepShow?n(\"second-index\",{attrs:{\"dep-id\":t.depId},on:{\"finish-action\":t.getProdList,\"close-form\":function(e){t.secondDepShow=!1}}}):t._e()],1)],1)])},a=[],r=n(\"c93e\"),i=n(\"a27a\"),s=(n(\"761c\"),function(){return Promise.all([n.e(\"chunk-2d0b5978\"),n.e(\"chunk-957e43e2\")]).then(n.bind(null,\"33290\"))}),d={name:\"prodList\",data:function(){return{form:{current:1,size:10,typeId:\"\",search:\"\"},prodtypelist:[],freightlist:[],value1:[,],shoptype:1,shopClassification:\"\",ommodityType:\"\",searchshow:!1,keyword:\"\",tableData:[],totalCount:0,tableLoading:!1,modalAddDepShow:!1,isEdit:!1,depId:0,secondDepShow:!1}},components:{SecondIndex:s},methods:{getProdList:function(){var t=this,e=Object(r[\"a\"])({},this.form);this.tableLoading=!0,Object(i[\"c\"])(e).then(function(e){var n=e.data.data;if(null!=n){t.totalCount=n.total,t.tableData=n.records,t.tableLoading=!1;n.count}else t.tableData=[],t.tableLoading=!1,t.totalCount=0}).catch(function(e){t.errorMsg(e),t.tableLoading=!1})},changesearchtype:function(t){this.form.statusType=t,this.getProdList()},changetable:function(t){\"price\"==t.prop&&\"ascending\"==t.order?this.form.sortType=1:\"price\"==t.prop&&\"descending\"==t.order&&(this.form.sortType=2),this.getProdList()},handleSizeChange:function(t){this.form.size=t,this.getProdList()},geprodTypelist:function(){var t=this,e={current:1,size:100};Object(i[\"e\"])(e).then(function(e){var n=e.data.data;n.unshift({tid:\"\",title:\"全部\"}),t.prodtypelist=n}).catch(function(e){t.tableLoading=!1})},handleCurrentChange:function(t){this.form.current=t,this.getProdList()},handleAddDep:function(){this.depId=0,this.isEdit=!1,this.secondDepShow=!0},handleCheck:function(t,e){this.depId=e.pid,this.secondDepShow=!0,this.isEdit=!0},handleDel:function(t,e){var n=this,o=\"\"+e.pid,a={pids:o};Object(i[\"a\"])(a).then(function(t){var e=t.data,o=\"success\";200===e.code?n.getProdList():o=\"error\",n.$message({type:o,message:\"success\"===o?\"删除成功！\":e.message})})},handleputAway:function(t,e){var n=this,o=e.pid,a=0;0==e.status&&(a=-1);var r={pid:o,status:a};Object(i[\"h\"])(r).then(function(t){var e=t.data,o=\"success\";200===e.code?n.getProdList():o=\"error\",n.$message({type:o,message:\"success\"===o?\"操作成功！\":e.message})})},handleSecondDepShow:function(){this.secondDepShow=!0,this.depId=0,this.isEdit=!1},errorMsg:function(t){this.$message({message:t,type:\"error\",duration:1500})}},created:function(){this.geprodTypelist(),this.getProdList()}},c=d,l=(n(\"326a\"),n(\"2877\")),u=Object(l[\"a\"])(c,o,a,!1,null,\"4acd64d2\",null);u.options.__file=\"prodList.vue\";e[\"default\"]=u.exports}}]);","extractedComments":[]}